# CCF走进校园

对数据库未来研究趋势的一个总结。

很多人觉得数据库发展这么久，理论如此成熟，科研里面可以做的东西少了。其实不然，在当下数据越来越爆炸的时代，挑战与机会是并存的。

先回顾一下数据库的架构。从单体数据库，到主备来做高可用，再到Oracle RAC的多活，再到完全分布式架构的数据库。RAC这种类型支持了多活，但是却在存储容量上受限，并且有一个很重要的问题(cache一致性)。cache一致性是指，更新操作一般是WAL+内存来避免同步随机写，那这样一来就带来一个问题，A可能把更新数据存在内存里了，还没来得及写入磁盘，但是B这时候收到一个读相关数据的请求，要怎么样保证能读到最新的数据？

分布式数据库讲究shard，并且同样是多活。但是这带来很多问题，比如事务模型怎么做，查询优化怎么做。

## 分布式数据库的挑战

### 分片
分布式数据库，一个很重要的关键点就是数据怎么分的问题。行存还是列存？这个比较好选择。但是同样有更多问题等着研究。比如

如何保证你选的partition key在数据增长的时候依然保持均匀分布？
是不是应该在Query的比较多的列上做Partition？
Join的比较频繁的2个Region，是不是一般放到一起比较好？

这里有人在SIGMOD上用学习的办法去学partition应该怎么做。同样还有Graph Partition。

以及还有一个关键点，partiton完了之后怎么Evaluate？因为很有可能可以分片的方案非常多，不可能做到每一种新的Partition都完整跑Query来评测。因此有没有一种模型Evaluate Model，我给出一个分片方案，就能评估方案的表现？

### 事务

